<div class="container">

  <a pButton label="Nouvelle Transaction" routerLink="/transactions/new"></a>
  <div class="grid table">
    <div class="col-12">
        <p-table [value]="transactions" [paginator]="true"
        [rows]="filter.itemsPage" [lazy]="true" [totalRecords]="totalRecords"
        (onLazyLoad)="changePage($event)" [responsive]="true"[showCurrentPageReport]="true" #table>
            <ng-template pTemplate="header">
                <tr>
                    <th>Produit</th>
                    <th>Acheteur</th>
                    <th class="col-data-header">Description</th>
                    <th class="col-data-header">Prix</th>
                    <th class="col-data-header">Total</th>
                    <th class="col-data-header">Date</th>
                    <th class="col-valor-header"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-transaction>
                <tr>
                    <td>
                      <span class="p-column-title">Produit</span>
                      {{ transaction.product.name }}
                    </td>
                    <td>
                      <span class="p-column-title">Nom Acheteur</span>
                      {{ transaction.school.name }}
                      </td>
                    <td class="col-data-content">
                      <span class="p-column-title">Description</span>
                      {{ transaction.description }}
                    </td>
                    <td class="col-data-content">
                      <span class="p-column-title">Prix</span>
                      {{ transaction.price | currency }}
                    </td>
                    <td class="col-data-content">
                      <span class="p-column-title">Total</span>
                      {{ transaction.priceFinal | currency }}
                    </td>
                    <td class="col-data-content">
                      <span class="p-column-title">Date</span>
                      {{ transaction.dateRegister}}
                    </td>

                    <td class="col-acoes">
                      <a pButton icon="pi pi-pencil" pTooltip="Modifier" tooltipPosition="top"
                      [routerLink]= "['/transactions', transaction.id]"></a>
                      <button pButton icon="pi pi-trash" pTooltip="Effacer" tooltipPosition="top"
                      (click)="confirmExlusion(transaction)"></button>
                    </td>

                </tr>
            </ng-template>
        </p-table>
    </div>
  </div>

</div>

